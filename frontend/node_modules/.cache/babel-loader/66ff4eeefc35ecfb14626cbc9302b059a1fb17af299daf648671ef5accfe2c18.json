{"ast":null,"code":"// Header.js\n// Header of the website found at the top of every page that contains the site's title, navigation links, and a button to sign into Riot's API.\nimport React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const[isLoggedIn,setIsLoggedIn]=useState(false);useEffect(()=>{// Check if the user is already logged in by looking for a token in localStorage\nconst token=localStorage.getItem('riot_token');if(token){setIsLoggedIn(true);}},[]);const handleLogin=()=>{const clientId=process.env.REACT_APP_CLIENT_ID;// Load client ID from environment variable\nconst redirectUri='https://jsakmad.github.io/Valorant-Analyzer';// Ensure this matches your registered redirect URI\nconst authUrl=`https://auth.riotgames.com/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&response_type=code&scope=openid+offline_access`;window.location.href=authUrl;};const handleLogout=()=>{// Clear the token from localStorage and update the state\nlocalStorage.removeItem('riot_token');setIsLoggedIn(false);};return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Valorant Analyzer\"}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/roster\",children:\"Roster\"}),/*#__PURE__*/_jsx(Link,{to:\"/test\",children:\"Test\"}),/*#__PURE__*/_jsx(Link,{to:\"/stats\",children:\"Stats\"}),/*#__PURE__*/_jsx(Link,{to:\"/matchhistory\",children:\"Match History\"}),/*#__PURE__*/_jsx(Link,{to:\"/privacy-policy\",children:\"Privacy Policy\"}),/*#__PURE__*/_jsx(Link,{to:\"/tos\",children:\"Terms of Service\"}),isLoggedIn?/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"login-button\",children:\"Sign Out\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,className:\"login-button\",children:\"Sign into Riot\"})]})]});};export default Header;","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","Header","isLoggedIn","setIsLoggedIn","token","localStorage","getItem","handleLogin","clientId","process","env","REACT_APP_CLIENT_ID","redirectUri","authUrl","window","location","href","handleLogout","removeItem","children","to","onClick","className"],"sources":["C:/Users/joshu/.virtualenvs/Valorant Analysis Website/val-analysis-website/src/components/Header.js"],"sourcesContent":["// Header.js\r\n// Header of the website found at the top of every page that contains the site's title, navigation links, and a button to sign into Riot's API.\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Header = () => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Check if the user is already logged in by looking for a token in localStorage\r\n    const token = localStorage.getItem('riot_token');\r\n    if (token) {\r\n      setIsLoggedIn(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleLogin = () => {\r\n    const clientId = process.env.REACT_APP_CLIENT_ID; // Load client ID from environment variable\r\n    const redirectUri = 'https://jsakmad.github.io/Valorant-Analyzer'; // Ensure this matches your registered redirect URI\r\n    const authUrl = `https://auth.riotgames.com/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&response_type=code&scope=openid+offline_access`;\r\n\r\n    window.location.href = authUrl;\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    // Clear the token from localStorage and update the state\r\n    localStorage.removeItem('riot_token');\r\n    setIsLoggedIn(false);\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <h1>Valorant Analyzer</h1>\r\n      <nav>\r\n        <Link to=\"/\">Home</Link>\r\n        <Link to=\"/roster\">Roster</Link>\r\n        <Link to=\"/test\">Test</Link>\r\n        <Link to=\"/stats\">Stats</Link>\r\n        <Link to=\"/matchhistory\">Match History</Link>\r\n        <Link to=\"/privacy-policy\">Privacy Policy</Link>\r\n        <Link to=\"/tos\">Terms of Service</Link>\r\n        {isLoggedIn ? (\r\n          <button onClick={handleLogout} className=\"login-button\">Sign Out</button>\r\n        ) : (\r\n          <button onClick={handleLogin} className=\"login-button\">Sign into Riot</button>\r\n        )}\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"AAAA;AACA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGT,QAAQ,CAAC,KAAK,CAAC,CAEnDC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAS,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAChD,GAAIF,KAAK,CAAE,CACTD,aAAa,CAAC,IAAI,CAAC,CACrB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,QAAQ,CAAGC,OAAO,CAACC,GAAG,CAACC,mBAAmB,CAAE;AAClD,KAAM,CAAAC,WAAW,CAAG,6CAA6C,CAAE;AACnE,KAAM,CAAAC,OAAO,CAAG,kDAAkDL,QAAQ,iBAAiBI,WAAW,iDAAiD,CAEvJE,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAGH,OAAO,CAChC,CAAC,CAED,KAAM,CAAAI,YAAY,CAAGA,CAAA,GAAM,CACzB;AACAZ,YAAY,CAACa,UAAU,CAAC,YAAY,CAAC,CACrCf,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAED,mBACEH,KAAA,WAAAmB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1BnB,KAAA,QAAAmB,QAAA,eACErB,IAAA,CAACF,IAAI,EAACwB,EAAE,CAAC,GAAG,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,cACxBrB,IAAA,CAACF,IAAI,EAACwB,EAAE,CAAC,SAAS,CAAAD,QAAA,CAAC,QAAM,CAAM,CAAC,cAChCrB,IAAA,CAACF,IAAI,EAACwB,EAAE,CAAC,OAAO,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,cAC5BrB,IAAA,CAACF,IAAI,EAACwB,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,cAC9BrB,IAAA,CAACF,IAAI,EAACwB,EAAE,CAAC,eAAe,CAAAD,QAAA,CAAC,eAAa,CAAM,CAAC,cAC7CrB,IAAA,CAACF,IAAI,EAACwB,EAAE,CAAC,iBAAiB,CAAAD,QAAA,CAAC,gBAAc,CAAM,CAAC,cAChDrB,IAAA,CAACF,IAAI,EAACwB,EAAE,CAAC,MAAM,CAAAD,QAAA,CAAC,kBAAgB,CAAM,CAAC,CACtCjB,UAAU,cACTJ,IAAA,WAAQuB,OAAO,CAAEJ,YAAa,CAACK,SAAS,CAAC,cAAc,CAAAH,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAEzErB,IAAA,WAAQuB,OAAO,CAAEd,WAAY,CAACe,SAAS,CAAC,cAAc,CAAAH,QAAA,CAAC,gBAAc,CAAQ,CAC9E,EACE,CAAC,EACA,CAAC,CAEb,CAAC,CAED,cAAe,CAAAlB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}